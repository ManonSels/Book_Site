{% extends "layout.html" %}
{% block content %}

<h1>BOOKS</h1>
<table>
  <thead>
    <tr>
      <th>Title</th>
      <th>Author</th>
      <th>Date</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {% for book in books %}
    <tr>
      <td>{{ book.title }}</td>
      <td>{{ book.author }}</td>
      <td>{{ book.date_published[:10] }}</td>
      <td><a href="{{ url_for('books.book_edit', book_id=book.id) }}" class="btn btn-edit">Edit</a></td>
      <td>
        <form action="{{ url_for('books.book_delete', book_id=book.id) }}" method="POST" style="display: inline;">
          <button type="submit" class="btn btn-delete"
          onclick="return confirm('🗑️ Are you sure you want to delete the book: \n\n{{ book.title }} - {{ book.author }}\n\nThis cannot be undone!')">Delete</button>
        </form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock content %}



<!-- <td><a href="{{ url_for('books.book_delete', book_id=book.id) }}" class="btn btn-delete" 
  onclick="return confirm('Are you sure you want to delete <i>{{ book.title }}</i> by {{ book.author }}?')">Delete</a> -->